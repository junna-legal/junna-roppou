<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
<title>åˆ©æ¯åˆ¶é™æ³•æ–½è¡Œä»¤</title>

<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="default" />
<meta name="apple-mobile-web-app-title" content="JUNNAã®å…­æ³•" />

<meta name="theme-color" content="#fde2e4" />
<meta name="color-scheme" content="light" />

<link rel="icon" href="/favicon.ico" sizes="any" />
<link rel="apple-touch-icon" href="/apple-touch-icon.png" />
<link rel="icon" type="image/png" sizes="192x192" href="/icon-192.png" />
<link rel="icon" type="image/png" sizes="512x512" href="/icon-512.png" />
<link rel="icon" type="image/png" sizes="1024x1024" href="/icon-1024.png" />

<link rel="manifest" href="/site.webmanifest" />

<meta property="og:title" content="JUNNAã®å…­æ³•" />
<meta property="og:description" content="æ³•ä»¤åãƒ»æ¡ç•ªå·ãƒ»æ³•ä»¤å†…ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã§æ¤œç´¢ã§ãã‚‹å…­æ³•ãƒ“ãƒ¥ãƒ¼ã‚¢" />
<meta property="og:image" content="/icon-512.png" />
<meta property="og:type" content="website" />

<style>
<style>
:root {
  --bg: #fffafc;
  --card: #ffffff;
  --text: #374151;
  --sub: #9ca3af;
  --pink: #fde2e4;
  --mint: #e8f8f5;
  --lav:  #f3ecff;

  font-family: -apple-system, BlinkMacSystemFont,
    "Hiragino Maru Gothic ProN","Hiragino Sans","Yu Gothic UI",
    system-ui, sans-serif;

  line-height: 1.75;
}

* { box-sizing: border-box; }
body {
  margin: 0;
  background: linear-gradient(180deg, var(--bg), #ffffff);
  color: var(--text);
  overflow-x: hidden;
}

header {
  position: sticky;
  top: 0;
  background: rgba(255,255,255,0.85);
  backdrop-filter: blur(10px);
  border-bottom: 1px solid rgba(0,0,0,.06);
  padding: 12px 12px;
  z-index: 10;
}

main {
  padding: 14px 12px calc(24px + env(safe-area-inset-bottom));
  max-width: 760px;
  margin: 0 auto;
}

.card {
  background: var(--card);
  border-radius: 24px;
  padding: 16px 14px;
  margin-bottom: 14px;
  box-shadow: 0 10px 30px rgba(0,0,0,.05), 0 2px 8px rgba(0,0,0,.03);
  border: 1px solid rgba(0,0,0,.04);
}

.badge {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 7px 12px;
  border-radius: 999px;
  background: linear-gradient(90deg, var(--pink), var(--lav));
  border: 1px solid rgba(0,0,0,.04);
  font-size: 13px;
  color: #111827;
  font-weight: 800;
  box-shadow: 0 6px 18px rgba(0,0,0,.06);
}

.micon{
  width: 22px; height: 22px;
  display: inline-grid; place-items: center;
  border-radius: 999px;
  background: rgba(255,255,255,0.85);
  border: 1px solid rgba(0,0,0,.06);
  box-shadow: 0 2px 6px rgba(0,0,0,.06);
}
.micon svg{ width: 18px; height: 18px; display:block; }

.small { color: var(--sub); font-size: 0.92em; margin-top: 6px; }
hr { border: none; border-top: 1px solid rgba(0,0,0,.08); margin: 12px 0; }

label { display: block; font-weight: 800; margin-top: 10px; }
input {
  width: 100%;
  font-size: 16px;
  padding: 11px 12px;
  border-radius: 16px;
  border: 1px solid rgba(0,0,0,.08);
  background: #fff;
  box-shadow: inset 0 1px 0 rgba(255,255,255,.8);
}
input:focus{
  outline: none;
  border-color: rgba(244,114,182,.35);
  box-shadow: 0 0 0 4px rgba(244,114,182,.10);
}

button {
  font-size: 16px;
  padding: 11px 14px;
  border-radius: 999px;
  border: 1px solid rgba(0,0,0,.10);
  background: linear-gradient(90deg, var(--mint), var(--lav));
  color: #111827;
  margin-top: 10px;
  transition: transform .06s ease, filter .12s ease;
}
button:active{
  transform: translateY(1px) scale(0.98);
  filter: brightness(0.98);
}

.navrow { display: flex; gap: 8px; flex-wrap: wrap; align-items: center; }
.navbtn {
  display: inline-flex; align-items: center; gap: 8px;
  padding: 9px 12px;
  border-radius: 999px;
  text-decoration: none;
  border: 1px solid rgba(0,0,0,.10);
  background: #fff;
  color: #111827;
  transition: transform .06s ease, filter .12s ease;
}
.navbtn.primary { background: linear-gradient(90deg, var(--mint), var(--lav)); }
.navbtn:active { transform: translateY(1px) scale(0.98); filter: brightness(0.98); }

.result { padding: 10px 4px; border-bottom: 1px dashed rgba(0,0,0,.12); }
.result a { text-decoration: none; display: block; color: #111827; }

.p { margin: 0 0 12px; }
.sp { height: 6px; }
.cute-list { margin: 8px 0 14px 18px; padding: 0; }
.cute-list li { margin: 8px 0; }

.loading {
  display:inline-flex; align-items:center; gap:8px;
  padding:8px 10px;
  border-radius:999px;
  border:1px solid rgba(0,0,0,.08);
  background: rgba(255,255,255,.8);
  color:#374151;
  font-size: 14px;
}
.dot {
  width:10px;height:10px;border-radius:999px;
  background: linear-gradient(90deg, var(--pink), var(--lav));
  box-shadow: 0 2px 6px rgba(0,0,0,.06);
}

/* æ³•ä»¤ãƒšãƒ¼ã‚¸ */
.artbox{ scroll-margin-top: 90px; border:1px solid rgba(0,0,0,.08); border-radius: 20px; padding: 14px 12px; margin: 12px 0;
  background: linear-gradient(180deg, rgba(232,248,245,.35), rgba(243,236,255,.35));
}
.hit { outline: 3px solid rgba(253, 226, 228, .9); }
.mark { background: rgba(253, 226, 228, .75); border-radius: 6px; padding: 0 2px; }

/* law header bar */
.lawbar{ display:flex; align-items:center; gap:8px; flex-wrap:wrap; }
.lawbar .field{ display:flex; align-items:center; gap:6px; }
.lawbar input{ width:auto; }
.lawbar .artjump{ width: 9.5em; max-width: 45vw; }
.lawbar .kw{ flex: 1 1 18em; min-width: 12em; max-width: 70vw; }
.lawbar .mini-btn{ padding: 8px 10px; font-size: 14px; margin-top:0; }

/* iPhone */
@media (max-width: 480px){
  header{ padding: 10px 10px; }
  .badge{ padding: 6px 10px; font-size: 12px; }
  .micon{ width: 20px; height: 20px; }
  .lawbar{ gap:6px; }
  .lawbar .artjump{ width: 7.5em; max-width: 42vw; }
  .lawbar .kw{ flex: 1 1 14em; min-width: 10em; max-width: 72vw; }
  .lawbar input{ padding: 9px 10px; border-radius: 14px; font-size: 15px; }
}
</style>

</style>
</head>
<body>


<header>
  <div class="navrow" style="justify-content:space-between; gap:10px;">
    <span class="badge"><span class="micon">ğŸ°</span>åˆ©æ¯åˆ¶é™æ³•æ–½è¡Œä»¤</span>
    <a class="navbtn" href="../../index.html">â† æ¤œç´¢</a>
  </div>

  <div class="lawbar" style="margin-top:10px;">
    <div class="field">
      <span class="small" style="font-weight:800;">æ¡ç•ªå·</span>
      <input id="artjump" class="artjump" inputmode="numeric" placeholder="ä¾‹: 709 / 709-2">
      <button id="artbtn" class="mini-btn">ç§»å‹•</button>
    </div>

    <div class="field" style="flex:1;">
      <span class="small" style="font-weight:800;">ï¼«ï¼·</span>
      <input id="kw" class="kw" placeholder="æ³•ä»¤å†…æ¤œç´¢">
      <button id="kwbtn" class="mini-btn">æ¤œç´¢</button>
      <button id="kwprev" class="mini-btn">å‰</button>
      <button id="kwnext" class="mini-btn">æ¬¡</button>
      <span id="kwstatus" class="small" style="margin-left:6px;"></span>
    </div>
  </div>
</header>

<main>
  <div class="card">
    <div class="small">LawId: 419CO0000000330</div>
    <div class='small'>ç¾è¡Œç‰ˆåŸºæº–æ—¥(æ¨å®š): 2025-10-01</div>
    <hr>
    <div class="toc"><div>ãƒ» <a href='index.html#a1'>ç¬¬ä¸€æ¡ï¼ˆåˆ©æ¯ã¨ã¿ãªã•ã‚Œãªã„è²»ç”¨ï¼‰</a></div>
<div>ãƒ» <a href='index.html#a2'>ç¬¬äºŒæ¡ï¼ˆåˆ©æ¯ã¨ã¿ãªã•ã‚Œãªã„ç¾é‡‘è‡ªå‹•æ”¯æ‰•æ©Ÿãã®ä»–ã®æ©Ÿæ¢°ã®åˆ©ç”¨æ–™ã®ç¯„å›²ï¼‰</a></div>
<div>ãƒ» <a href='index.html#a3'>ç¬¬ä¸‰æ¡ï¼ˆä¿è¨¼ã®æ¥­å‹™ã«é–¢ã—ã¦è¡Œæ”¿æ©Ÿé–¢ã®ç›£ç£ã‚’å—ã‘ã‚‹è€…ï¼‰</a></div>
<div>ãƒ» <a href='index.html#a4'>ç¬¬å››æ¡ï¼ˆä¿è¨¼æ–™ã¨ã¿ãªã•ã‚Œãªã„ç¾é‡‘è‡ªå‹•æ”¯æ‰•æ©Ÿãã®ä»–ã®æ©Ÿæ¢°ã®åˆ©ç”¨æ–™ã®ç¯„å›²ï¼‰</a></div>
<div>ãƒ» <a href='index.html#a5'>ç¬¬äº”æ¡ï¼ˆä¿è¨¼æ–™ã¨ã¿ãªã•ã‚Œãªã„è²»ç”¨ï¼‰</a></div>
<div>ãƒ» <a href='index.html#a1'>ç¬¬ä¸€æ¡ï¼ˆæ–½è¡ŒæœŸæ—¥ï¼‰</a></div>
<div>ãƒ» <a href='index.html#a1'>ç¬¬ä¸€æ¡ï¼ˆæ–½è¡ŒæœŸæ—¥ï¼‰</a></div></div>
    <hr>
    <section class='artbox' id='a1'><div class='arthead'><span class='artnum'>ğŸ¬ ç¬¬ä¸€æ¡ï¼ˆåˆ©æ¯ã¨ã¿ãªã•ã‚Œãªã„è²»ç”¨ï¼‰</span></div><p class='p'>åˆ©æ¯åˆ¶é™æ³•ï¼ˆä»¥ä¸‹ã€Œæ³•ã€ã¨ã„ã†ã€‚ï¼‰ç¬¬å…­æ¡ç¬¬ä¸€é …ã®æ”¿ä»¤ã§å®šã‚ã‚‹è²»ç”¨ã¯ã€æ³•ä»¤ã®è¦å®šã«ã‚ˆã‚Šæ¥­ã¨ã—ã¦è²¸ä»˜ã‘ã‚’è¡Œã†ã“ã¨ãŒã§ãã‚‹è€…ã«ã‚ˆã‚‹å½“è©²æ¥­ã¨ã—ã¦è¡Œã£ãŸå–¶æ¥­çš„é‡‘éŠ­æ¶ˆè²»è²¸å€Ÿã«é–¢ã—å‚µæ¨©è€…ã®å—ã‘ã‚‹æ¬¡ã«æ²ã’ã‚‹è²»ç”¨ï¼ˆæ¶ˆè²»ç¨é¡åŠã³å½“è©²æ¶ˆè²»ç¨é¡ã‚’èª²ç¨æ¨™æº–ã¨ã—ã¦èª²ã•ã‚Œã‚‹ã¹ãåœ°æ–¹æ¶ˆè²»ç¨é¡ã«ç›¸å½“ã™ã‚‹é¡ï¼ˆä»¥ä¸‹ã€Œæ¶ˆè²»ç¨é¡ç­‰ç›¸å½“é¡ã€ã¨ã„ã†ã€‚ï¼‰ã‚’å«ã‚€ã€‚ï¼‰ã¨ã™ã‚‹ã€‚</p>
<ul class='cute-list'>
<li>ä¸€  é‡‘éŠ­ã®è²¸ä»˜ã‘åŠã³å¼æ¸ˆã«ç”¨ã„ã‚‹ãŸã‚å‚µå‹™è€…ã«äº¤ä»˜ã•ã‚ŒãŸã‚«ãƒ¼ãƒ‰ã®å†ç™ºè¡Œã®æ‰‹æ•°æ–™</li>
<li>äºŒ  è²¸é‡‘æ¥­æ³•ï¼ˆæ˜­å’Œäº”åå…«å¹´æ³•å¾‹ç¬¬ä¸‰åäºŒå·ï¼‰ã®è¦å®šã«ã‚ˆã‚Šå–¶æ¥­çš„é‡‘éŠ­æ¶ˆè²»è²¸å€Ÿã«é–¢ã—ã¦å‚µå‹™è€…ã«äº¤ä»˜ã•ã‚ŒãŸæ›¸é¢ã®å†ç™ºè¡ŒåŠã³å½“è©²æ›¸é¢ã®äº¤ä»˜ã«ä»£ãˆã¦åŒæ³•ç¬¬äºŒæ¡ç¬¬åäºŒé …ã«è¦å®šã™ã‚‹é›»ç£çš„æ–¹æ³•ã«ã‚ˆã‚Šå‚µå‹™è€…ã«æä¾›ã•ã‚ŒãŸäº‹é …ã®å†æä¾›ã®æ‰‹æ•°æ–™</li>
<li>ä¸‰  å£åº§æŒ¯æ›¿ã®æ–¹æ³•ã«ã‚ˆã‚‹å¼æ¸ˆã«ãŠã„ã¦ã€å‚µå‹™è€…ãŒå¼æ¸ˆæœŸã«å¼æ¸ˆã§ããªã‹ã£ãŸå ´åˆã«è¡Œã†å†åº¦ã®å£åº§æŒ¯æ›¿æ‰‹ç¶šã«è¦ã™ã‚‹è²»ç”¨</li>
</ul></section>
<section class='artbox' id='a2'><div class='arthead'><span class='artnum'>ğŸ¬ ç¬¬äºŒæ¡ï¼ˆåˆ©æ¯ã¨ã¿ãªã•ã‚Œãªã„ç¾é‡‘è‡ªå‹•æ”¯æ‰•æ©Ÿãã®ä»–ã®æ©Ÿæ¢°ã®åˆ©ç”¨æ–™ã®ç¯„å›²ï¼‰</span></div><p class='p'>æ³•ç¬¬å…­æ¡ç¬¬äºŒé …ç¬¬ä¸‰å·ã®æ”¿ä»¤ã§å®šã‚ã‚‹é¡ã¯ã€ç¾é‡‘è‡ªå‹•æ”¯æ‰•æ©Ÿãã®ä»–ã®æ©Ÿæ¢°ã‚’åˆ©ç”¨ã—ã¦å—ã‘å–ã‚Šã€åˆã¯æ”¯æ‰•ã†æ¬¡ã®å„å·ã«æ²ã’ã‚‹é¡ã®åŒºåˆ†ã«å¿œã˜ã€å½“è©²å„å·ã«å®šã‚ã‚‹é¡ï¼ˆæ¶ˆè²»ç¨é¡ç­‰ç›¸å½“é¡ã‚’å«ã‚€ã€‚ï¼‰ã¨ã™ã‚‹ã€‚</p>
<ul class='cute-list'>
<li>ä¸€  ä¸€ä¸‡å††ä»¥ä¸‹ã®é¡</li>
</ul>
<div class='sp'></div>
<p class='p'>ç™¾åå††</p>
<ul class='cute-list'>
<li>äºŒ  ä¸€ä¸‡å††ã‚’è¶…ãˆã‚‹é¡</li>
</ul>
<div class='sp'></div>
<p class='p'>äºŒç™¾äºŒåå††</p></section>
<section class='artbox' id='a3'><div class='arthead'><span class='artnum'>ğŸ¬ ç¬¬ä¸‰æ¡ï¼ˆä¿è¨¼ã®æ¥­å‹™ã«é–¢ã—ã¦è¡Œæ”¿æ©Ÿé–¢ã®ç›£ç£ã‚’å—ã‘ã‚‹è€…ï¼‰</span></div><p class='p'>æ³•ç¬¬å…«æ¡ç¬¬å››é …ã®æ”¿ä»¤ã§å®šã‚ã‚‹è€…ã¯ã€æ¬¡ã«æ²ã’ã‚‹è€…ã¨ã™ã‚‹ã€‚</p>
<ul class='cute-list'>
<li>ä¸€  éŠ€è¡Œ</li>
<li>äºŒ  ä¿¡ç”¨é‡‘åº«</li>
<li>ä¸‰  ä¿¡ç”¨é‡‘åº«é€£åˆä¼š</li>
<li>å››  åŠ´åƒé‡‘åº«</li>
<li>äº”  åŠ´åƒé‡‘åº«é€£åˆä¼š</li>
<li>å…­  ä¿¡ç”¨å”åŒçµ„åˆ</li>
<li>ä¸ƒ  ä¿¡ç”¨å”åŒçµ„åˆé€£åˆä¼š</li>
<li>å…«  è¾²æ¥­å”åŒçµ„åˆ</li>
<li>ä¹  è¾²æ¥­å”åŒçµ„åˆé€£åˆä¼š</li>
<li>å  æ¼æ¥­å”åŒçµ„åˆ</li>
<li>åä¸€  æ¼æ¥­å”åŒçµ„åˆé€£åˆä¼š</li>
<li>åäºŒ  æ°´ç”£åŠ å·¥æ¥­å”åŒçµ„åˆ</li>
<li>åä¸‰  æ°´ç”£åŠ å·¥æ¥­å”åŒçµ„åˆé€£åˆä¼š</li>
<li>åå››  è¾²æ—ä¸­å¤®é‡‘åº«</li>
<li>åäº”  æ ªå¼ä¼šç¤¾å•†å·¥çµ„åˆä¸­å¤®é‡‘åº«</li>
<li>åå…­  ä¿é™ºä¼šç¤¾</li>
<li>åä¸ƒ  ä¿é™ºæ¥­æ³•ï¼ˆå¹³æˆä¸ƒå¹´æ³•å¾‹ç¬¬ç™¾äº”å·ï¼‰ç¬¬äºŒæ¡ç¬¬ä¸ƒé …ã«è¦å®šã™ã‚‹å¤–å›½ä¿é™ºä¼šç¤¾ç­‰</li>
<li>åå…«  æ²–ç¸„æŒ¯èˆˆé–‹ç™ºé‡‘èå…¬åº«</li>
<li>åä¹  æ ªå¼ä¼šç¤¾å›½éš›å”åŠ›éŠ€è¡Œ</li>
<li>äºŒå  é£Ÿå“ç­‰æŒç¶šçš„ä¾›çµ¦æ¨é€²æ©Ÿæ§‹</li>
<li>äºŒåä¸€  ç±³ç©€å®‰å®šä¾›çµ¦ç¢ºä¿æ”¯æ´æ©Ÿæ§‹</li>
<li>äºŒåäºŒ  ç‹¬ç«‹è¡Œæ”¿æ³•äººè¾²æ—æ¼æ¥­ä¿¡ç”¨åŸºé‡‘</li>
<li>äºŒåä¸‰  è¾²æ¥­ä¿¡ç”¨åŸºé‡‘å”ä¼š</li>
<li>äºŒåå››  æ£®æ—çµ„åˆ</li>
<li>äºŒåäº”  æ£®æ—çµ„åˆé€£åˆä¼š</li>
<li>äºŒåå…­  æ¼æ¥­ä¿¡ç”¨åŸºé‡‘å”ä¼š</li>
<li>äºŒåä¸ƒ  è¼¸å‡ºæ°´ç”£æ¥­çµ„åˆ</li>
<li>äºŒåå…«  ç‹¬ç«‹è¡Œæ”¿æ³•äººæƒ…å ±å‡¦ç†æ¨é€²æ©Ÿæ§‹</li>
<li>äºŒåä¹  æ ªå¼ä¼šç¤¾æ—¥æœ¬æ”¿ç­–é‡‘èå…¬åº«</li>
<li>ä¸‰å  ä¿¡ç”¨ä¿è¨¼å”ä¼š</li>
<li>ä¸‰åä¸€  ç‹¬ç«‹è¡Œæ”¿æ³•äººä¸­å°ä¼æ¥­åŸºç›¤æ•´å‚™æ©Ÿæ§‹</li>
<li>ä¸‰åäºŒ  å•†å·¥çµ„åˆ</li>
<li>ä¸‰åä¸‰  å•†å·¥çµ„åˆé€£åˆä¼š</li>
<li>ä¸‰åå››  ç‹¬ç«‹è¡Œæ”¿æ³•äººå¥„ç¾ç¾¤å³¶æŒ¯èˆˆé–‹ç™ºåŸºé‡‘</li>
<li>ä¸‰åäº”  ç‹¬ç«‹è¡Œæ”¿æ³•äººä½å®…é‡‘èæ”¯æ´æ©Ÿæ§‹</li>
<li>ä¸‰åå…­  å†…èˆªæµ·é‹çµ„åˆ</li>
<li>ä¸‰åä¸ƒ  å†…èˆªæµ·é‹çµ„åˆé€£åˆä¼š</li>
<li>ä¸‰åå…«  äº‹æ¥­å”åŒçµ„åˆ</li>
<li>ä¸‰åä¹  äº‹æ¥­å”åŒå°çµ„åˆ</li>
</ul></section>
<section class='artbox' id='a4'><div class='arthead'><span class='artnum'>ğŸ¬ ç¬¬å››æ¡ï¼ˆä¿è¨¼æ–™ã¨ã¿ãªã•ã‚Œãªã„ç¾é‡‘è‡ªå‹•æ”¯æ‰•æ©Ÿãã®ä»–ã®æ©Ÿæ¢°ã®åˆ©ç”¨æ–™ã®ç¯„å›²ï¼‰</span></div><p class='p'>æ³•ç¬¬å…«æ¡ç¬¬ä¸ƒé …ç¬¬ä¸€å·ãƒã®æ”¿ä»¤ã§å®šã‚ã‚‹é¡ã¯ã€ç¾é‡‘è‡ªå‹•æ”¯æ‰•æ©Ÿãã®ä»–ã®æ©Ÿæ¢°ã‚’åˆ©ç”¨ã—ã¦æ”¯æ‰•ã†æ¬¡ã®å„å·ã«æ²ã’ã‚‹é¡ã®åŒºåˆ†ã«å¿œã˜ã€å½“è©²å„å·ã«å®šã‚ã‚‹é¡ï¼ˆæ¶ˆè²»ç¨é¡ç­‰ç›¸å½“é¡ã‚’å«ã‚€ã€‚ï¼‰ã¨ã™ã‚‹ã€‚</p>
<ul class='cute-list'>
<li>ä¸€  ä¸€ä¸‡å††ä»¥ä¸‹ã®é¡</li>
</ul>
<div class='sp'></div>
<p class='p'>ç™¾åå††</p>
<ul class='cute-list'>
<li>äºŒ  ä¸€ä¸‡å††ã‚’è¶…ãˆã‚‹é¡</li>
</ul>
<div class='sp'></div>
<p class='p'>äºŒç™¾äºŒåå††</p></section>
<section class='artbox' id='a5'><div class='arthead'><span class='artnum'>ğŸ¬ ç¬¬äº”æ¡ï¼ˆä¿è¨¼æ–™ã¨ã¿ãªã•ã‚Œãªã„è²»ç”¨ï¼‰</span></div><p class='p'>æ³•ç¬¬å…«æ¡ç¬¬ä¸ƒé …ç¬¬äºŒå·ã®æ”¿ä»¤ã§å®šã‚ã‚‹è²»ç”¨ã¯ã€æ³•ä»¤ã®è¦å®šã«ã‚ˆã‚Šæ¥­ã¨ã—ã¦è²¸ä»˜ã‘ã‚’è¡Œã†ã“ã¨ãŒã§ãã‚‹è€…ã«ã‚ˆã‚‹å½“è©²æ¥­ã¨ã—ã¦è¡Œã£ãŸå–¶æ¥­çš„é‡‘éŠ­æ¶ˆè²»è²¸å€Ÿä¸Šã®å‚µå‹™ã‚’ä¸»ãŸã‚‹å‚µå‹™ã¨ã™ã‚‹ä¿è¨¼å¥‘ç´„ã«é–¢ã—ä¿è¨¼äººãŒå—ã‘ã‚‹æ¬¡ã«æ²ã’ã‚‹è²»ç”¨ï¼ˆæ¶ˆè²»ç¨é¡ç­‰ç›¸å½“é¡ã‚’å«ã‚€ã€‚ï¼‰ã¨ã™ã‚‹ã€‚</p>
<ul class='cute-list'>
<li>ä¸€  å¼æ¸ˆã«ç”¨ã„ã‚‹ãŸã‚ä¸»ãŸã‚‹å‚µå‹™è€…ã«äº¤ä»˜ã•ã‚ŒãŸã‚«ãƒ¼ãƒ‰ã®å†ç™ºè¡Œã®æ‰‹æ•°æ–™</li>
<li>äºŒ  å£åº§æŒ¯æ›¿ã®æ–¹æ³•ã«ã‚ˆã‚‹å¼æ¸ˆã«ãŠã„ã¦ã€ä¸»ãŸã‚‹å‚µå‹™è€…ãŒå¼æ¸ˆæœŸã«å¼æ¸ˆã§ããªã‹ã£ãŸå ´åˆã«è¡Œã†å†åº¦ã®å£åº§æŒ¯æ›¿æ‰‹ç¶šã«è¦ã™ã‚‹è²»ç”¨</li>
</ul></section>
<section class='artbox' id='a1'><div class='arthead'><span class='artnum'>ğŸ¬ ç¬¬ä¸€æ¡ï¼ˆæ–½è¡ŒæœŸæ—¥ï¼‰</span></div><p class='p'>ã“ã®æ”¿ä»¤ã¯ã€å¹³æˆäºŒåå››å¹´å››æœˆä¸€æ—¥ã‹ã‚‰æ–½è¡Œã™ã‚‹ã€‚</p></section>
<section class='artbox' id='a1'><div class='arthead'><span class='artnum'>ğŸ¬ ç¬¬ä¸€æ¡ï¼ˆæ–½è¡ŒæœŸæ—¥ï¼‰</span></div><p class='p'>ã“ã®æ”¿ä»¤ã¯ã€æ”¹æ­£æ³•ã®æ–½è¡Œã®æ—¥ï¼ˆå¹³æˆä¸‰åå¹´åæœˆäºŒåäºŒæ—¥ï¼‰ã‹ã‚‰æ–½è¡Œã™ã‚‹ã€‚</p></section>
  </div>
</main>

<script>
(function(){
  const $ = (id)=>document.getElementById(id);

  function headerH(){
    const h = document.querySelector("header");
    return h ? h.getBoundingClientRect().height : 70;
  }

  function scrollToNode(node){
    if(!node) return;
    const rect = node.getBoundingClientRect();
    const y = window.pageYOffset + rect.top - Math.ceil(headerH()) - 10;
    window.scrollTo({ top: y, behavior: "smooth" });
  }

  let marks = [];
  let pos = -1;

  function clearMarks(){
    document.querySelectorAll(".mark").forEach(m=>{
      const t = document.createTextNode(m.textContent);
      m.replaceWith(t);
    });
    marks = [];
    pos = -1;
    document.querySelectorAll(".artbox").forEach(b=>b.classList.remove("hit"));
  }

  function norm(s){ return (s||"").toLowerCase(); }

  function markTextNode(node, q){
    const text = node.nodeValue || "";
    const qn = norm(q);
    const tn = norm(text);

    let idx = tn.indexOf(qn);
    if(idx === -1) return false;

    const frag = document.createDocumentFragment();
    let cur = 0;

    while(idx !== -1){
      const before = text.slice(cur, idx);
      if(before) frag.appendChild(document.createTextNode(before));

      const mid = text.slice(idx, idx + q.length);
      const span = document.createElement("span");
      span.className = "mark";
      span.textContent = mid;
      frag.appendChild(span);

      cur = idx + q.length;
      idx = tn.indexOf(qn, cur);
    }

    const after = text.slice(cur);
    if(after) frag.appendChild(document.createTextNode(after));

    node.parentNode.replaceChild(frag, node);
    return true;
  }

  function markInElement(el, q){
    const walker = document.createTreeWalker(el, NodeFilter.SHOW_TEXT);
    const nodes = [];
    while(walker.nextNode()) nodes.push(walker.currentNode);

    let found = false;
    for(const node of nodes){
      if(!(node.nodeValue||"").trim()) continue;
      const ok = markTextNode(node, q);
      if(ok) found = true;
    }
    return found;
  }

  function setStatus(msg){
    const s = $("kwstatus");
    if(s) s.textContent = msg || "";
  }

  function collectMarks(){
    marks = Array.from(document.querySelectorAll(".mark"));
    pos = marks.length ? 0 : -1;

    document.querySelectorAll(".artbox").forEach(b=>{
      if(b.querySelector(".mark")) b.classList.add("hit");
    });
  }

  function runSearch(){
    const q = ($("kw")?.value || "").trim();
    clearMarks();
    if(!q){ setStatus(""); return; }

    const boxes = Array.from(document.querySelectorAll(".artbox"));
    boxes.forEach(b=> markInElement(b, q));

    collectMarks();

    if(marks.length){
      setStatus("ãƒ’ãƒƒãƒˆ: " + marks.length + " / 1");
      scrollToNode(marks[0]);
    }else{
      setStatus("ï¼ˆãƒ’ãƒƒãƒˆãªã—ï¼‰");
    }
  }

  function goNext(){
    if(!marks.length) return;
    pos = (pos + 1) % marks.length;
    setStatus("ãƒ’ãƒƒãƒˆ: " + marks.length + " / " + (pos+1));
    scrollToNode(marks[pos]);
  }

  function goPrev(){
    if(!marks.length) return;
    pos = (pos - 1 + marks.length) % marks.length;
    setStatus("ãƒ’ãƒƒãƒˆ: " + marks.length + " / " + (pos+1));
    scrollToNode(marks[pos]);
  }

  async function jumpArticle(){
    const v = ($("artjump")?.value || "").trim();
    if(!v) return;

    const normv = (v.replace("ï¼","/").replace("â€•","-").replace("âˆ’","-").replace("â€“","-")
                   .replace("ã®","-").replace("/", "-").replace(/\s+/g,""));

    try{
      const map = await (await fetch("artmap.json")).json();
      const anchor = map[normv];
      if(anchor){
        const el = document.getElementById(anchor);
        if(el) scrollToNode(el);
        else location.hash = "#" + anchor;
        return;
      }
    }catch(e){}

    const guess = "a" + normv.replace("-", "_");
    const el = document.getElementById(guess);
    if(el) scrollToNode(el);
    else location.hash = "#" + guess;
  }

  $("kwbtn")?.addEventListener("click", runSearch);
  $("kw")?.addEventListener("keydown", (e)=>{ if(e.key==="Enter") runSearch(); });
  $("kwnext")?.addEventListener("click", goNext);
  $("kwprev")?.addEventListener("click", goPrev);

  $("artbtn")?.addEventListener("click", jumpArticle);
  $("artjump")?.addEventListener("keydown", (e)=>{ if(e.key==="Enter") jumpArticle(); });

})();
</script>


</body>
</html>
